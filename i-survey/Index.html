<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="UTF-8">
  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #f8fafc; }
    .ukm-maroon { background-color: #800000; }
    .glass-card { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.3); }
    [x-cloak] { display: none !important; }
  </style>
</head>
<body class="min-h-screen py-10 px-4">
  <div class="max-w-4xl mx-auto shadow-2xl rounded-[2rem] overflow-hidden glass-card" x-data="surveyApp()" x-cloak>
    
    <div class="w-full bg-gray-100 h-2 flex">
      <div class="ukm-maroon h-full transition-all duration-700 ease-in-out" :style="'width: ' + (step/4)*100 + '%'"></div>
    </div>

    <div class="p-8 md:p-12">
      <div x-show="step === 1" x-transition>
        <div class="text-center mb-8">
          <h1 class="text-2xl md:text-3xl font-bold text-gray-900 leading-tight">Kajian Kebolehpasaran Program Pengajian di Institut Kejuruteraan Mikro dan Nanoelektronik (IMEN), UKM</h1>
        </div>
        <div class="space-y-6 text-gray-700 text-justify leading-relaxed text-sm">
          <p class="bg-red-50 p-4 rounded-xl border-l-4 border-red-800 italic">Borang soal selidik ini bertujuan untuk menilai dan memastikan kebolehpasaran program pengajian yang ditawarkan oleh Institut Kejuruteraan Mikro dan Nanoelektronik (IMEN), UKM. [cite: 2]</p>
          <p>Di samping itu, IMEN ingin memastikan program pengajian yang ditawarkan mematuhi piawaian selari dengan saranan dasar kerajaan yang terkini, keperluan Agensi Kelayakan Malaysia (MQA) dan relevan dengan perkembangan ilmu, teknologi serta pasaran pekerjaan. [cite: 3]</p>
          <div class="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm">
            <h3 class="font-bold text-red-900 mb-3 uppercase tracking-wide underline">Pengenalan Program Pengajian IMEN: [cite: 6]</h3>
            <p>Institut Kejuruteraan Mikro dan Nanoelektronik di Universiti Kebangsaan Malaysia menawarkan program pengajian untuk membina tenaga manusia yang berkeupayaan dalam teknologi berkaitan kejuruteraan mikro dan nanoteknologi melalui aktiviti penyelidikan dan pembangunan dalam teknologi MEMS, reka bentuk VLSI, teknologi sensor, bahan termaju, teknologi pakej, fotonik dan sehingga ke peringkat prototaip yang mempunyai nilai pasaran. [cite: 7]</p>
          </div>
          <p class="font-bold">Program pengajian pascasiswazah yang ditawarkan: [cite: 10]</p>
          <ul class="list-disc ml-8">
            <li>Doktor Falsafah [cite: 11]</li>
            <li>Sarjana Sains Kejuruteraan Mikro dan Nanoelektronik [cite: 12]</li>
          </ul>
        </div>
        <div class="mt-12 flex justify-center">
          <button @click="step = 2" class="ukm-maroon text-white px-12 py-4 rounded-full font-bold shadow-xl">Sertai Soal Selidik</button>
        </div>
      </div>

      <div x-show="step === 2" x-transition>
        <h2 class="text-xl font-bold text-gray-800 mb-8 border-b pb-4">Maklumat Responden</h2>
        <div class="space-y-6">
          <div>
            <label class="block text-sm font-bold text-gray-700 mb-2">Sila isi email anda [cite: 14]</label>
            <input type="email" x-model="formData.email" required class="w-full p-4 border rounded-2xl outline-none focus:border-red-800 shadow-sm">
          </div>
          <div>
            <label class="block text-sm font-bold text-gray-700 mb-3">Kategori umur: [cite: 16]</label>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
              <template x-for="age in ['20-30 tahun', '30-40 tahun', '40-50 tahun', '50-60 tahun']">
                <label class="cursor-pointer">
                  <input type="radio" x-model="formData.umur" :value="age" class="sr-only peer">
                  <div class="p-3 text-center border rounded-xl peer-checked:bg-red-800 peer-checked:text-white hover:bg-gray-50 transition text-xs" x-text="age"></div>
                </label>
              </template>
            </div>
          </div>
          <div>
            <label class="block text-sm font-bold text-gray-700 mb-3">Pekerjaan anda [cite: 21]</label>
            <select x-model="formData.pekerjaan" class="w-full p-4 border rounded-2xl outline-none appearance-none bg-white shadow-sm">
              <template x-for="job in jobs"><option :value="job" x-text="job"></option></template>
            </select>
            <input x-show="formData.pekerjaan === 'Lain-lain (Sila nyatakan):'" type="text" x-model="formData.pekerjaan_lain" placeholder="Sila nyatakan pekerjaan" class="mt-3 w-full p-4 border rounded-2xl outline-none border-red-200">
          </div>
          <div>
            <label class="block text-sm font-bold text-gray-700 mb-3">Sektor pekerjaan/industri: [cite: 34]</label>
            <select x-model="formData.sektor" class="w-full p-4 border rounded-2xl outline-none appearance-none bg-white shadow-sm">
              <template x-for="sector in sectors"><option :value="sector" x-text="sector"></option></template>
            </select>
            <input x-show="formData.sektor === 'Lain-lain (Sila nyatakan):'" type="text" x-model="formData.sektor_lain" placeholder="Sila nyatakan sektor" class="mt-3 w-full p-4 border rounded-2xl outline-none border-red-200">
          </div>
        </div>
        <div class="mt-12 flex justify-between">
          <button @click="step = 1" class="text-gray-400 font-bold px-6 py-2">Kembali</button>
          <button @click="step = 3" class="ukm-maroon text-white px-10 py-3 rounded-full font-bold shadow-lg">Seterusnya</button>
        </div>
      </div>

      <div x-show="step === 3" x-transition>
        <div class="mb-8">
          <h2 class="text-xl font-bold text-gray-800">Penilaian Program</h2>
          <p class="text-xs text-gray-500 mt-2 italic">Soalan dijawab berdasarkan pengenalan Program Pengajian IMEN dan Hasil Pembelajaran Program (HPP). [cite: 4]</p>
        </div>
        <div class="space-y-8">
          <template x-for="(q, i) in questions" :key="i">
            <div class="bg-white p-6 rounded-3xl border border-gray-100 shadow-sm">
              <p class="font-bold text-gray-800 mb-6 text-sm flex">
                <span class="mr-2 text-red-800" x-text="(i + 6) + '.'"></span><span x-text="q"></span>
              </p>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <template x-for="prog in ['sarjana', 'phd']">
                  <div class="p-2 border rounded-xl bg-gray-50/50">
                    <span class="text-[10px] uppercase font-black text-red-800 tracking-widest mb-3 block" x-text="prog === 'sarjana' ? 'Sarjana' : 'Doktor Falsafah'"></span>
                    <div class="flex flex-col gap-2">
                      <template x-for="opt in ratings">
                        <label class="flex items-center p-3 border rounded-xl cursor-pointer hover:bg-white bg-white transition shadow-sm">
                          <input type="radio" :name="'q' + i + prog" :value="opt" x-model="formData.ratings[i][prog]" class="accent-red-800" required>
                          <span class="ml-3 text-xs" x-text="opt"></span>
                        </label>
                      </template>
                    </div>
                  </div>
                </template>
              </div>
            </div>
          </template>
        </div>
        <div class="mt-12 flex justify-between">
          <button @click="step = 2" class="text-gray-400 font-bold px-6 py-2">Kembali</button>
          <button @click="step = 4" class="ukm-maroon text-white px-10 py-3 rounded-full font-bold shadow-lg">Langkah Akhir</button>
        </div>
      </div>

      <div x-show="step === 4" x-transition>
        <h2 class="text-xl font-bold text-gray-800 mb-8 border-b pb-4">Syor & Penambahbaikan</h2>
        <div class="space-y-8">
          <div class="bg-gray-50 p-6 rounded-3xl text-sm border">
            <p class="font-bold mb-6 text-justify">Adakah anda berhasrat untuk mencadangkan program pengajian ini kepada calon pelajar yang berminat untuk meningkatkan kemahiran dalam pekerjaan? [cite: 102]</p>
            <template x-for="prog in ['sarjana', 'phd']">
              <div class="flex items-center justify-between p-4 bg-white border rounded-2xl mb-3 shadow-sm">
                <span class="font-bold text-red-800" x-text="prog === 'sarjana' ? 'Sarjana' : 'Doktor Falsafah'"></span>
                <div class="flex gap-4">
                  <template x-for="ans in ['Ya', 'Tidak', 'Mungkin']">
                    <label class="flex items-center text-xs cursor-pointer"><input type="radio" :name="'syor'+prog" :value="ans" x-model="formData['syor_'+prog]" class="accent-red-800 mr-2" required> <span x-text="ans"></span></label>
                  </template>
                </div>
              </div>
            </template>
          </div>
          <div>
            <label class="block font-bold text-sm mb-3">Apakah penambahbaikkan yang ingin dicadangkan bagi meningkatkan kebolehpasaran program pengajian di IMEN, UKM? (Cadangan terbuka) [cite: 106]</label>
            <textarea x-model="formData.cadangan" class="w-full p-5 border rounded-3xl h-40 outline-none focus:border-red-800 shadow-sm" placeholder="Tulis cadangan anda..."></textarea>
          </div>
        </div>
        <div class="mt-12 flex justify-between items-center">
          <button @click="step = 3" class="text-gray-400 font-bold px-6 py-2">Kembali</button>
          <button @click="submitSurvey" :disabled="loading" class="bg-yellow-500 text-red-900 px-12 py-5 rounded-full font-black text-lg shadow-xl disabled:bg-gray-200 hover:bg-yellow-400 transition">
            <span x-show="!loading">HANTAR RESPONS</span>
            <span x-show="loading" class="flex items-center">
              <svg class="animate-spin h-5 w-5 mr-3" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
              MENGHANTAR...
            </span>
          </button>
        </div>
      </div>

      <div x-show="submitted" class="text-center py-20" x-transition>
        <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">
          <svg class="w-10 h-10 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
        </div>
        <h2 class="text-3xl font-black text-gray-900 mb-4">Berjaya!</h2>
        <p class="text-gray-500">Maklum balas anda telah disimpan secara selamat dalam sistem IMEN UKM. Terima kasih atas kerjasama anda.</p>
        <button @click="window.location.reload()" class="mt-10 text-red-800 font-bold underline">Hantar Respons Baru</button>
      </div>
    </div>
  </div>

  <script>
    function surveyApp() {
      return {
        step: 1, loading: false, submitted: false,
        formData: { email: '', nama: '', umur: '', pekerjaan: 'Kerajaan', pekerjaan_lain: '', sektor: 'Pendidikan', sektor_lain: '', ratings: Array(7).fill().map(() => ({ sarjana: '', phd: '' })), syor_sarjana: '', syor_phd: '', cadangan: '' },
        jobs: ['Kerajaan', 'Badan berkanun', 'Swasta', 'Perusahaan sendiri', 'Syarikat berkaitan kerajaan (GLC)', 'Pertubuhan bukan kerjaan (NGO)', 'PTPTN dan Agensi Penajaan', 'Pelajar', 'Alumni (UKM)', 'Ibu bapa @ Komuniti', 'Tidak bekerja', 'Lain-lain (Sila nyatakan):'],
        sectors: ['Pendidikan', 'Tenaga dan utilliti', 'Perkhidmatan', 'Perubatan', 'Penyelidikan, pembangunan dan komersial', 'Pembuatan', 'Keusahawanan', 'Pengangkutan, hospitaliti dan perlancongan', 'Telekomunikasi', 'Kewangan dan perkhidmatan perbankan', 'Automotif', 'Teknologi maklumat, komunikasi dan media', 'Lain-lain (Sila nyatakan):'],
        ratings: ['Sangat baik [cite: 75]', 'Baik [cite: 75]', 'Sederhana [cite: 75]', 'Lemah [cite: 75]'],
        questions: [
          'Adakah program pengajian ini merangkumi teoritikal dan pengetahuan asas dalam bidang tersebut? [cite: 74]',
          'Adakah program pengajian ini menambahbaik kemahiran praktikal yang diperlukan untuk pekerjaan? [cite: 78]',
          'Adakah program pengajian ini berkesan dalam membangunkan kemahiran penyelidikan dan analitik? [cite: 82]',
          'Adakah program pengajian ini membangunkan kemahiran insaniah (komunikasi, kerja berkumpulan, kepimpinan, menyelesaikan masalah)? [cite: 86]',
          'Adakah program pengajian ini meningkatkan kebolehans digital dan teknikal yang relevan dengan bidang pekerjaan? [cite: 90]',
          'Adakah program pengajian ini relevan kepada industri terkini atau keperluan pekerjaan? [cite: 94]',
          'Secara keseluruhan, adakah program pengajian ini mampu meningkatkan kebolehpasaran pekerjaan? [cite: 98]'
        ],
        submitSurvey() {
          if(!this.formData.email) return alert("Sila isi emel anda.");
          this.loading = true;
          const sub = { ...this.formData };
          this.formData.ratings.forEach((r, i) => { 
            sub['q'+(i+1)+'_sarjana'] = r.sarjana; 
            sub['q'+(i+1)+'_phd'] = r.phd; 
          });
          google.script.run
            .withSuccessHandler(() => { this.loading = false; this.submitted = true; })
            .processForm(sub);
        }
      }
    }
  </script>
</body>
</html>
